<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../stylesheets/homestyle.css">
  <link rel="stylesheet" href="../stylesheets/cartstyle.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <title>Document</title>
</head>
<body>

  <div id="mainPage">
    <div id="nav">
      <div id="navleft">
        <a href="/home">
        <svg height="35px" width="35px" fill="#111" viewBox="0 0 26 32"><path d="M14.4 5.52v-.08q0-.56.36-1t.92-.44 1 .36.48.96-.36 1-.96.4l-.24.08.08.12-.08.44-.16 1.28q.08.08.08.16l-.16.8q-.08.16-.16.24l-.08.32q-.16.64-.28 1.04t-.2.64V12q-.08.4-.12.64t-.28.8q-.16.32 0 1.04l.08.08q0 .24.2.56t.2.56q.08 1.6-.24 2.72l.16.48q.96.48.56 1.04l.4.16q.96.48 1.36.84t.8.76q.32.08.48.24l.24.08q1.68 1.12 3.36 2.72l.32.24v.08l-.08.16.24.16h.08q.24.16.32.16h.08q.08 0 .16-.08l.16-.08q.16-.16.32-.24h.32q.08 0 0 .08l-.32.16-.4.48h.56l.56.08q.24-.08.4-.16l.4-.24q.24-.08.48.16h.08q.08.08-.08.24l-.96.88q-.4.32-.72.4l-1.04.72q-.08.08-.16 0l-.24-.32-.16-.32-.2-.28-.24-.32-.2-.24-.16-.2-.32-.24q-.16 0-.32-.08l-1.04-.8q-.24 0-.56-.24-1.2-1.04-1.6-1.28l-.48-.32-.96-.16q-.48-.08-1.28-.48l-.64-.32q-.64-.32-.88-.32l-.32-.16q-.32-.08-.48-.16l-.16-.16q-.16 0-.32.08l-1.6.8-2 .88q-.8.64-1.52 1.04l-.88.4-1.36.96q-.16.16-.32 0l-.16.16q-.24.08-.32.08l-.32.16v.16h-.16l-.16.24q-.16.32-.32.36t-.2.12-.08.12l-.16.16-.24.16-.36-.04-.48.08-.32.08q-.4.08-.64-.12t-.4-.6q-.16-.24.16-.4l.08-.08q.08-.08.24-.08h.48L1.6 26l.32-.08q0-.16.08-.24.08-.08.24-.08v-.08q-.08-.16-.08-.32-.08-.16-.04-.24t.08-.08h.04l.08.24q.08.4.24.24l.08-.16q.08-.16.24-.16l.16.16.16-.16-.08-.08q0-.08.08-.08l.32-.32q.4-.48.96-.88 1.12-.88 2.4-1.36.4-.4.88-.4.32-.56.96-1.2.56-.4.8-.56.16-.32.4-.32H10l.16-.16q.16-.08.24-.16v-.4q0-.4.08-.64t.4-.24l.32-.32q-.16-.32-.16-.72h-.08q-.16-.24-.16-.48-.24-.4-.32-.64h-.24q-.08.24-.4.32l-.08.16q-.32.56-.56.84t-.88.68q-.4.4-.56.88-.08.24 0 .48l-.08.16h.08q0 .16.08.16h.08q.16.08.16.2t-.24.08-.36-.16-.2-.12l-.24.24q-.16.24-.32.2t-.08-.12l.08-.08q.08-.16 0-.16l-.64.16q-.08.08-.2 0t.04-.16l.4-.16q0-.08-.08-.08-.32.16-.64.08l-.4-.08-.08-.08q0-.08.08-.08.32.08.8-.08l.56-.24.64-.72.08-.16q.32-.64.68-1.16t.76-.84l.08-.32q.16-.32.32-.56t.4-.64l.24-.32q.32-.48.72-.48l.24-.24q.08-.08.08-.24l.16-.16-.08-.08q-.48-.4-.48-.72-.08-.56.36-.96t.88-.36.68.28l.16.16q.08 0 .08.08l.32.16v.24q.16.16.16.24.16-.24.48-.56l.4-1.28q0-.32.16-.64l.16-.24v-.16l.24-.96h.16l.24-.96q.08-.24 0-.56l-.32-.8z"></path></svg>
        </a>
      </div>
      <div id="navmid">
        <a href="">New & featured</a>
        <a href="">Men</a>
        <a href="">Women</a>
        <a href="">Kids</a>
        <a href="">Accessories</a>
        <a href="">Sale</a>
      </div>
      <div id="navright">
        <div id="search">
          <input type="search" name="" id="s" placeholder="Search">
          <svg aria-hidden="true" class="pre-nav-design-icon" focusable="false" viewBox="0 0 24 24" role="img" width="24px" height="24px" fill="none"><path stroke="currentColor" stroke-width="1.5" d="M13.962 16.296a6.716 6.716 0 01-3.462.954 6.728 6.728 0 01-4.773-1.977A6.728 6.728 0 013.75 10.5c0-1.864.755-3.551 1.977-4.773A6.728 6.728 0 0110.5 3.75c1.864 0 3.551.755 4.773 1.977A6.728 6.728 0 0117.25 10.5a6.726 6.726 0 01-.921 3.407c-.517.882-.434 1.988.289 2.711l3.853 3.853"></path></svg>  
        </div>
        <a href=""> 
        <svg aria-hidden="true" class="pre-nav-design-icon" focusable="false" viewBox="0 0 24 24" role="img" width="24px" height="24px" fill="none"><path stroke="currentColor" stroke-width="1.5" d="M16.794 3.75c1.324 0 2.568.516 3.504 1.451a4.96 4.96 0 010 7.008L12 20.508l-8.299-8.299a4.96 4.96 0 010-7.007A4.923 4.923 0 017.205 3.75c1.324 0 2.568.516 3.504 1.451l.76.76.531.531.53-.531.76-.76a4.926 4.926 0 013.504-1.451"></path></svg>
        </a>
        <a href="/cart">
        <svg aria-hidden="true" class="pre-nav-design-icon" focusable="false" viewBox="0 0 24 24" role="img" width="24px" height="24px" fill="none"><path stroke="currentColor" stroke-width="1.5" d="M8.25 8.25V6a2.25 2.25 0 012.25-2.25h3a2.25 2.25 0 110 4.5H3.75v8.25a3.75 3.75 0 003.75 3.75h9a3.75 3.75 0 003.75-3.75V8.25H17.5"></path></svg>
        </a>
      </div>
    </div>
    <div id="nav2">
      <div id="nav2left">
        <h3>JORDAN SHOES & SNEAKERS</h3>
      </div>
    </div>
    <div class="container" id="mainLeftproduct">
      <h3>Bag</h3>
      <% userproduct.cart.forEach(function(elem){ %>
        <div id="card" >
          <div id="cartproducttop">
              <div id="image">
        <img class="card-img-top" src= <%= elem.product.productImage %> alt="Card image cap">
              </div>
              <div id="dets">
                  <div class="card-body">
                      <h4 class="card-title"><%= elem.product.productName %></h4>
                      <h6 class="card-text">
                        <%if(elem.product.productCat==="Men"){%>
                          Men 's Shoes
                          <%} %>
                          <%if(elem.product.productCat==="Women"){%>
                            Women 's Shoes
                            <%} %>
                            <%if(elem.product.productCat==="Boys"){%>
                              Boys 's Shoes
                              <%} %>
                              <%if(elem.product.productCat==="Girls"){%>
                                Girls 's Shoes
                                <%} %>
                      </h6>
                      <h6 class="card-text">Color :<%= elem.color %></h6>
                      <form  action="/updatequantity/<%= elem.product._id %>" method="post">
                        <div><h6 class="card-text">Size :<%= elem.size %></h6></div>
                          <div><label for="quantity">quantity</label>
                            <select onchange="this.form.submit(value)" name="quantity" id="quantity">
                              <% if (elem.quantity>1){ %>
                                <option selected value=<%= elem.quantity %>> <%= elem.quantity %> </option>
                                <%}%>
                                <% for(var i = 1;i< 12;i++){%>
                                  <% if (i !== elem.quantity || i===1){ %>
                                    <option value=<%= i %>> <%= i %> </option> 
                                  <%}%>
                                <%}%>
                            </select></div>
                      </form>
                  </div>
                  <h5 id="price" class="card-text">$<%= elem.product.price*elem.quantity %></h5>
              </div>
          </div>
          <div id="func">
              <a href=""> 
                  <svg aria-hidden="true" class="pre-nav-design-icon" focusable="false" viewBox="0 0 24 24" role="img" width="26px" height="26px" fill="none"><path stroke="currentColor" stroke-width="1.5" d="M16.794 3.75c1.324 0 2.568.516 3.504 1.451a4.96 4.96 0 010 7.008L12 20.508l-8.299-8.299a4.96 4.96 0 010-7.007A4.923 4.923 0 017.205 3.75c1.324 0 2.568.516 3.504 1.451l.76.76.531.531.53-.531.76-.76a4.926 4.926 0 013.504-1.451"></path></svg>
              </a>
              <a href="/removeProduct/<%=elem.product._id%>">
                  <svg aria-hidden="true" focusable="false" viewBox="0 0 24 24" role="img" width="26px" height="26px" fill="none"><path stroke="currentColor" stroke-miterlimit="10" stroke-width="1.5" d="M14.25 7.5v12m-4.5-12v12M5.25 6v13.5c0 1.24 1.01 2.25 2.25 2.25h9c1.24 0 2.25-1.01 2.25-2.25V5.25h2.75m-2.75 0H21m-12-3h5.25c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5H3"></path></svg>
              </a>
          </div>
          <div id="shipping">
              <h6>shipping</h6>
              <h6>time of arrival</h6>
          </div>
          <div id="hr"></div>
      </div>
      <%})%>
        
    </div>
    <div id="summary">
      <% if(userproduct.totalamount>0){%>
        <div class="card">
          <div class="card-body">
            <h3 class="card-title">Summary</h3>
            <div id="sumprice">
              <h5>Sub Total</h5>
              <h5>$<%= userproduct.totalamount %></h5>
            </div>
            <div id="sumprice">
              <h5>Shipping price</h5>
              <h5>$3</h5>
            </div>
            <div id="sumprice">
              <h5>taxes</h5>
              <h5>$2.5</h5>
            </div>
          </div>
          <ul class="list-group list-group-flush">
            <li class="list-group-item">
              <div id="sumprice">
                <h4>Grand Total</h4>
                <h5>$<%= userproduct.totalamount+3+2.5 %></h5>
              </div>
            </li>
          </ul>
          <div class="card-body">
            <a href="#" class="btn btn bg-dark text-white">Checkout</a>
          </div>
        </div>
      <%} else{%>
        <div class="card">
          <div class="card-body">
            <h3 class="card-title">Summary</h3>
            <div id="sumprice">
              <h5>Sub Total</h5>
              <h5>$<%= userproduct.totalamount %></h5>
            </div>
            <div id="sumprice">
              <h5>Shipping price</h5>
              <h5>$0</h5>
            </div>
            <div id="sumprice">
              <h5>taxes</h5>
              <h5>$0</h5>
            </div>
          </div>
          <ul class="list-group list-group-flush">
            <li class="list-group-item">
              <div id="sumprice">
                <h4>Grand Total</h4>
                <h5>$<%= 0 %></h5>
              </div>
            </li>
          </ul>
          <div class="card-body">
            <a href="#" class="btn btn bg-dark text-white">Checkout</a>
          </div>
        </div>
        <%}%>
    </div>
    
    <div id="footer"></div>
  </div>

  <script>
      function updateQuantity(){
        
        axios.get("/cart")
      }
    </script>
</body>
</html>
